; vim:set filetype=scheme foldmethod=marker:

; 基本的な関数{{{
; 関数 cxxr
(define cadr (lambda (x) (car (cdr x))))
(define cdar (lambda (x) (cdr (car x))))
(define caar (lambda (x) (car (car x))))
(define cddr (lambda (x) (cdr (cdr x))))

(define-macro cond
  (lambda args
    (if (null? args)
        '*undef*
      (if (eq? (caar args) 'else)
          `(begin ,@(cdar args))
        (if (null? (cdar args))
            `(let ((+value+ ,(caar args)))
              (if +value+ +value+ (cond ,@(cdr args))))
          `(if ,(caar args)
               (begin ,@(cdar args))
            (cond ,@(cdr args))))))))
;}}}

(cond
  ((windows?) (set-default-font "tahoma"))
  ((osx?) (set-default-font "Monaco")))

(set-window-size 1100 600)
(set-window-title "pyfiler")

(define-key normal-map "d" 'tabclose)
(define-key normal-map "g" 'cursor-first)
(define-key normal-map "h" 'cd-parent)
(define-key normal-map "j" 'cursor-down)
(define-key normal-map "k" 'cursor-up)
(define-key normal-map "l" 'cd-or-exec)
(define-key normal-map "C-l" 'tabnext)
(define-key normal-map "C-h" 'tabprev)
(define-key normal-map "r" 'reload-view)
(define-key normal-map "t" 'tabnew)

(define-key normal-map "a" 'select-all)
(define-key normal-map "S-g" 'cursor-last)
(define-key normal-map "S-r" 'reload-config)
(define-key normal-map "S-Space" 'select-up)
(define-key normal-map "Space" 'select-down)
(define-key normal-map "Tab" 'change-focus)
